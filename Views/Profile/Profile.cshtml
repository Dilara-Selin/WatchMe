@using Microsoft.EntityFrameworkCore
@using WatchMe.Data
@using WatchMe.Models
@using WatchMe.Controllers
@using WatchMe.Services
@inject AppDbContext _context;
@model List<WatchMe.Models.Movie>

<div class="container my-5">
    <div class="profile-card">
        <!-- Header -->
        <div class="profile-header">
            <i class="fas fa-user-tie profile-icon"></i>
            <h2>GÜZEL</h2>
            <i class="far fa-edit fa-2x"></i>
        </div>

        <!-- Body -->
        <div class="profile-body">
            <div class="info-row">
                <p>E-mail:</p>
                <h6>guzel@gmail.com</h6>
            </div>
            <div class="info-row">
                <p>Telefon:</p>
                <h6>055177777</h6>
            </div>
            <div class="divider"></div>

            <!-- Social Links -->
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
            </div>
        </div>
    </div>
</div>


<section>
    <h2>Beğendiklerin</h2>
    @if (ViewData["LikedMovies"] == null || !(ViewData["LikedMovies"] is List<Movie> likedMovies) || !likedMovies.Any())
    {
        <p>No liked movies available.</p>
    }
    else
    {
        @await Html.PartialAsync("_LikedCard", likedMovies)
    }
</section>

<hr class="divider-style">

<!-- Watched Movies Section -->
<section>
    <h2>Beğenmediklerin</h2>
    @if (ViewData["DislikedMovies"] == null || !(ViewData["DislikedMovies"] is List<Movie> dislikedMovies) || !dislikedMovies.Any()) 
    {
        <p>No disliked movies available.</p>
    }
    else
    {
        @await Html.PartialAsync("_LikedCard", dislikedMovies)
    }
</section>

<hr class="divider-style">

<!-- Commented Movies Section -->
<section>
    <h2>İzlediklerin</h2>
    @if (ViewData["WatchedMovies"] == null || !(ViewData["WatchedMovies"] is List<Movie> watchedMovies) || !watchedMovies.Any())
    {
        <p>No watched movies available.</p>
    }
    else
    {
        @await Html.PartialAsync("_LikedCard", watchedMovies)
    }
</section>

<!-- Profile Card Styles -->
<style>
    h2{
        color: #333;
    }
    .profile-card {
        max-width: 900px;
        margin: auto;
        background: #ffffff;
        border-radius: 15px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
    }
    .profile-card .profile-header {
        background: linear-gradient(to right, grey, grey);
        color: #fff;
        padding: 40px 20px;
        text-align: center;
    }
    .profile-card .profile-header .profile-icon {
        font-size: 80px;
        margin-bottom: 15px;
    }
    .profile-card .profile-header h2 {
        font-size: 28px;
        margin: 0;
        font-weight: bold;
    }
    .profile-card .profile-body {
        padding: 30px 20px;
    }
    .profile-card .profile-body .divider {
        border-top: 2px solid grey;
        margin: 30px 0;
    }
    .profile-card .profile-body .info-row {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #e9ecef;
    }
    .profile-card .profile-body .info-row p {
        margin: 0;
        font-weight: bold;
    }
    .profile-card .profile-body .info-row h6 {
        margin: 0;
        color: #6c757d;
    }
    .profile-card .profile-body .social-links {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }
    .profile-card .profile-body .social-links a {
        color: grey;
        font-size: 24px;
        margin: 0 10px;
        transition: color 0.3s;
    }
    .profile-card .profile-body .social-links a:hover {
        color: grey;
    }

    .divider-style {
        margin: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border: none;
        height: 2px;
        background-color: #333;
    }
</style>